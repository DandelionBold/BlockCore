# BlockCore v0.1 - Foundation Milestone

**Version**: 0.1.0  
**Status**: üöß Planning  
**Start Date**: 2025-10-18  
**Target Duration**: 3-6 months  
**Branch**: `0.1.0/feature/*`

---

## Table of Contents

1. [Discovery Phase](#1-discovery-phase)
2. [Initiation & Planning](#2-initiation--planning)
3. [Project Definition](#3-project-definition)
4. [Preliminary Design](#4-preliminary-design)
5. [Implementation Plan](#5-implementation-plan)
6. [Acceptance Criteria](#6-acceptance-criteria)

---

## 1. Discovery Phase

### 1.1 Goals (North Star)

**Primary Goal**: Establish the technical foundation and prove the C# .NET 9 stack can deliver high-performance voxel rendering.

**Specific Goals**:
- ‚úÖ Cross-platform window creation and input handling
- ‚úÖ Modern graphics API integration (Vulkan/DirectX/Metal)
- ‚úÖ Render a single voxel chunk with correct geometry
- ‚úÖ Free-flight camera with smooth movement
- ‚úÖ Frame timing and basic profiling
- ‚úÖ Project structure and build system

### 1.2 Success Criteria

**Must Have (MVP)**:
- [ ] Application launches on Windows, Linux, and macOS
- [ ] Window displays a 3D rendered chunk (16√ó16√ó16 blocks)
- [ ] Camera can move freely in 3D space (WASD + mouse)
- [ ] Consistent 60 FPS on mid-tier hardware (GTX 1060 / RX 580 equivalent)
- [ ] Clean shutdown with no memory leaks

**Should Have**:
- [ ] Basic debug overlay (FPS counter, frame time)
- [ ] Configurable window resolution via config file
- [ ] Console logging with log levels

**Nice to Have**:
- [ ] Screenshot functionality
- [ ] Toggle wireframe rendering
- [ ] Basic profiler markers

### 1.3 Non-Goals (Out of Scope for v0.1)

‚ùå Multiple chunks or chunk management  
‚ùå World generation (use hardcoded blocks)  
‚ùå Lighting system  
‚ùå Physics or collision detection  
‚ùå Textures (use solid colors per block type)  
‚ùå UI/HUD  
‚ùå Save/load functionality  
‚ùå Networking  
‚ùå Plugin system  

### 1.4 Stakeholders

| Role | Responsibility |
|------|---------------|
| **Engine Developer** | Core implementation, architecture decisions |
| **MineWorld Team** | Validate API design, provide feedback |
| **QA/Tester** | Cross-platform testing, performance validation |

---

## 2. Initiation & Planning

### 2.1 Repository Setup

#### Folder Structure

```
BlockCore/
  ‚îú‚îÄ src/
  ‚îÇ   ‚îú‚îÄ BlockCore.Core/              # Core systems (app loop, time, logging)
  ‚îÇ   ‚îú‚îÄ BlockCore.Render/            # Rendering abstractions
  ‚îÇ   ‚îú‚îÄ BlockCore.Voxel/             # Voxel data structures & meshing
  ‚îÇ   ‚îú‚îÄ BlockCore.Mathematics/       # Math utilities (vectors, matrices)
  ‚îÇ   ‚îî‚îÄ BlockCore.Examples.Basic/    # v0.1 demo application
  ‚îú‚îÄ tests/
  ‚îÇ   ‚îú‚îÄ BlockCore.Core.Tests/
  ‚îÇ   ‚îú‚îÄ BlockCore.Render.Tests/
  ‚îÇ   ‚îî‚îÄ BlockCore.Voxel.Tests/
  ‚îú‚îÄ docs/
  ‚îÇ   ‚îú‚îÄ planning/                    # This file
  ‚îÇ   ‚îî‚îÄ api/                         # API documentation (generated)
  ‚îú‚îÄ .github/
  ‚îÇ   ‚îî‚îÄ workflows/
  ‚îÇ       ‚îî‚îÄ ci.yml                   # CI/CD pipeline
  ‚îú‚îÄ BlockCore.sln                    # Solution file
  ‚îú‚îÄ README.md
  ‚îú‚îÄ LICENSE
  ‚îú‚îÄ LICENSE-CC-BY-4.0
  ‚îî‚îÄ .gitignore
```

#### Branch Strategy

- **main**: Protected; tagged releases only
- **dev**: Integration branch
- **0.1.0/feature/<name>**: Feature branches for v0.1 work

#### Commit Convention

```
<type>(<scope>): <description>

[optional body]

Refs: docs/planning/v0.1.md#<section>
```

Types: `feat`, `fix`, `refactor`, `test`, `docs`, `chore`

### 2.2 Technology Stack

| Component | Technology | Version | Purpose |
|-----------|-----------|---------|---------|
| **Language** | C# | 12.0 | Primary development language |
| **Runtime** | .NET | 9.0 | Execution environment |
| **Graphics** | Silk.NET | 2.21+ | Vulkan/DX12/Metal abstraction |
| **Windowing** | Silk.NET.Windowing | 2.21+ | Cross-platform windows |
| **Math** | System.Numerics | Built-in | Vectors, matrices (SIMD) |
| **Testing** | xUnit | 2.6+ | Unit test framework |
| **Assertions** | FluentAssertions | 6.12+ | Readable test assertions |
| **Logging** | Serilog | 3.1+ | Structured logging |

### 2.3 Development Environment

**Prerequisites**:
- .NET 9 SDK
- Visual Studio 2022 / Rider 2024 / VS Code with C# Dev Kit
- Git
- GPU with Vulkan 1.2+ / DirectX 12 / Metal support

**Recommended Hardware**:
- CPU: 4+ cores
- RAM: 16 GB
- GPU: GTX 1060 / RX 580 or better

### 2.4 Risk Assessment

| Risk | Probability | Impact | Mitigation |
|------|------------|--------|-----------|
| Silk.NET learning curve | Medium | Medium | Start with basic samples; reference docs |
| Cross-platform issues | Medium | High | CI matrix; early testing on all platforms |
| Performance below target | Low | High | Profile early; use Span<T> and pooling |
| Scope creep | Medium | Medium | Strict adherence to non-goals list |

### 2.5 Quality Gates

**Definition of Ready (DoR)** - Before starting a feature:
- [ ] Feature described in implementation plan
- [ ] API surface sketched
- [ ] Test cases outlined
- [ ] Performance target defined (if applicable)

**Definition of Done (DoD)** - Before merging a feature:
- [ ] Code implemented and passing local tests
- [ ] Unit tests written and passing
- [ ] No new compiler warnings
- [ ] Code reviewed (self-review minimum)
- [ ] Documentation updated (if public API)
- [ ] Performance target met (if applicable)
- [ ] Checklist item marked with `[x]` and timestamp

---

## 3. Project Definition

### 3.1 Scope - What We're Building

#### 3.1.1 Core Systems

**BlockCore.Core** - Application foundation
- Main game loop (fixed timestep + variable rendering)
- Window lifecycle management
- Input handling (keyboard, mouse)
- Time utilities (delta time, frame counter)
- Logging infrastructure

**BlockCore.Mathematics** - Math utilities
- Vector2, Vector3, Vector4 (using System.Numerics)
- Matrix4x4 utilities
- Camera math (view & projection matrices)
- Utility functions (clamp, lerp, etc.)

**BlockCore.Render** - Rendering system
- Graphics device abstraction (Vulkan/DX12/Metal)
- Shader compilation and management
- Vertex/Index buffer management
- Basic material system (color + transform)
- Camera renderer

**BlockCore.Voxel** - Voxel system
- Block definition (`BlockId`, `BlockType`)
- Chunk data structure (16√ó16√ó16 fixed size)
- Greedy meshing algorithm (opaque blocks, single chunk)
- Chunk mesh generation

**BlockCore.Examples.Basic** - Demo application
- Entry point
- Single hardcoded chunk with varied blocks
- Camera movement (WASD + mouse look)
- Debug overlay (FPS counter)

### 3.2 Module Dependencies

```
BlockCore.Examples.Basic
    ‚Üì
BlockCore.Render ‚Üê BlockCore.Voxel
    ‚Üì                  ‚Üì
BlockCore.Mathematics
    ‚Üì
BlockCore.Core
```

### 3.3 Public API Surface (v0.1)

#### Core

```csharp
// Application
public class Application : IDisposable
{
    public Application(ApplicationConfig config);
    public void Run();
    public void Stop();
}

// Time
public static class Time
{
    public static double DeltaTime { get; }
    public static double TotalTime { get; }
    public static int FrameCount { get; }
}
```

#### Render

```csharp
// Graphics Device
public interface IGraphicsDevice : IDisposable
{
    void BeginFrame();
    void EndFrame();
    void Clear(Color color);
    void DrawMesh(Mesh mesh, Matrix4x4 transform);
}

// Camera
public class Camera
{
    public Vector3 Position { get; set; }
    public Vector3 Forward { get; }
    public Matrix4x4 ViewMatrix { get; }
    public Matrix4x4 ProjectionMatrix { get; }
}
```

#### Voxel

```csharp
// Block
public enum BlockType : byte
{
    Air = 0,
    Stone = 1,
    Dirt = 2,
    Grass = 3
}

public readonly struct BlockId
{
    public BlockType Type { get; }
    public BlockId(BlockType type);
}

// Chunk
public class Chunk
{
    public const int CHUNK_SIZE = 16;
    public BlockId GetBlock(int x, int y, int z);
    public void SetBlock(int x, int y, int z, BlockId block);
}

// Mesher
public static class ChunkMesher
{
    public static Mesh GenerateMesh(Chunk chunk);
}
```

---

## 4. Preliminary Design

### 4.1 Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ            BlockCore.Examples.Basic                  ‚îÇ
‚îÇ  - Program.cs (entry point)                          ‚îÇ
‚îÇ  - DemoScene.cs (single chunk scene)                 ‚îÇ
‚îÇ  - CameraController.cs (input ‚Üí camera)              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ            BlockCore.Render                          ‚îÇ
‚îÇ  - GraphicsDevice (Silk.NET wrapper)                 ‚îÇ
‚îÇ  - Shader (compile & bind)                           ‚îÇ
‚îÇ  - Mesh (vertex/index buffers)                       ‚îÇ
‚îÇ  - Camera (view/projection math)                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ            BlockCore.Voxel                           ‚îÇ
‚îÇ  - BlockId, BlockType                                ‚îÇ
‚îÇ  - Chunk (16¬≥ array)                                 ‚îÇ
‚îÇ  - ChunkMesher (greedy algorithm)                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ            BlockCore.Core                            ‚îÇ
‚îÇ  - Application (main loop)                           ‚îÇ
‚îÇ  - Time (delta time, frame count)                    ‚îÇ
‚îÇ  - Input (keyboard, mouse)                           ‚îÇ
‚îÇ  - Logger (Serilog wrapper)                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 4.2 Main Loop Design

```csharp
public class Application
{
    private const double FIXED_TIMESTEP = 1.0 / 60.0; // 60 Hz logic
    
    public void Run()
    {
        double accumulator = 0.0;
        double lastTime = GetTime();
        
        while (!shouldQuit)
        {
            double currentTime = GetTime();
            double frameTime = currentTime - lastTime;
            lastTime = currentTime;
            
            accumulator += frameTime;
            
            // Process input
            ProcessInput();
            
            // Fixed timestep updates
            while (accumulator >= FIXED_TIMESTEP)
            {
                Update(FIXED_TIMESTEP);
                accumulator -= FIXED_TIMESTEP;
            }
            
            // Variable timestep rendering
            Render();
        }
    }
}
```

### 4.3 Greedy Meshing Algorithm (Simplified)

For v0.1, implement a basic greedy meshing for a **single chunk**:

```
For each axis (X, Y, Z):
    For each slice perpendicular to axis:
        For each block in slice:
            If block is solid and face is exposed:
                Try to extend face in both dimensions
                Emit quad (4 vertices, 6 indices)
```

**Exposed face**: Adjacent block in direction of normal is Air or outside chunk.

**Vertex format**:
```csharp
struct Vertex
{
    Vector3 Position;
    Vector3 Normal;
    Vector3 Color; // Block type ‚Üí color mapping
}
```

### 4.4 Camera Controller

```csharp
public class CameraController
{
    private Camera camera;
    private float yaw = 0f;
    private float pitch = 0f;
    
    public void Update(float deltaTime)
    {
        // Mouse look
        var mouseDelta = Input.GetMouseDelta();
        yaw += mouseDelta.X * sensitivity;
        pitch -= mouseDelta.Y * sensitivity;
        pitch = Math.Clamp(pitch, -89f, 89f);
        
        // Calculate forward vector
        var forward = new Vector3(
            MathF.Cos(yaw) * MathF.Cos(pitch),
            MathF.Sin(pitch),
            MathF.Sin(yaw) * MathF.Cos(pitch)
        );
        camera.Forward = forward;
        
        // WASD movement
        var right = Vector3.Cross(forward, Vector3.UnitY);
        if (Input.IsKeyDown(Key.W)) camera.Position += forward * speed * deltaTime;
        if (Input.IsKeyDown(Key.S)) camera.Position -= forward * speed * deltaTime;
        if (Input.IsKeyDown(Key.A)) camera.Position -= right * speed * deltaTime;
        if (Input.IsKeyDown(Key.D)) camera.Position += right * speed * deltaTime;
    }
}
```

### 4.5 Shaders (GLSL - cross-compiled to HLSL/MSL)

**Vertex Shader** (basic.vert):
```glsl
#version 450

layout(location = 0) in vec3 aPosition;
layout(location = 1) in vec3 aNormal;
layout(location = 2) in vec3 aColor;

layout(location = 0) out vec3 vColor;
layout(location = 1) out vec3 vNormal;

layout(binding = 0) uniform Camera {
    mat4 view;
    mat4 projection;
};

void main() {
    gl_Position = projection * view * vec4(aPosition, 1.0);
    vColor = aColor;
    vNormal = aNormal;
}
```

**Fragment Shader** (basic.frag):
```glsl
#version 450

layout(location = 0) in vec3 vColor;
layout(location = 1) in vec3 vNormal;

layout(location = 0) out vec4 fragColor;

void main() {
    // Simple directional lighting
    vec3 lightDir = normalize(vec3(0.5, 1.0, 0.3));
    float diffuse = max(dot(vNormal, lightDir), 0.2); // 0.2 ambient
    fragColor = vec4(vColor * diffuse, 1.0);
}
```

### 4.6 Configuration Format

**config.toml**:
```toml
[window]
title = "BlockCore v0.1"
width = 1280
height = 720
vsync = true

[camera]
fov = 75.0
near_plane = 0.1
far_plane = 1000.0
move_speed = 10.0
look_sensitivity = 0.2

[logging]
level = "Info" # Trace, Debug, Info, Warning, Error
```

---

## 5. Implementation Plan

### 5.1 Phase 1: Project Setup & Core (Week 1-2)

#### Tasks

- [ ] **Task 1.1**: Initialize repository structure
  - [ ] Create solution and project files
  - [ ] Set up .gitignore (.NET, Rider, VS)
  - [ ] Add LICENSE files
  - [ ] Write root README.md
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 2 hours

- [ ] **Task 1.2**: Set up CI/CD pipeline
  - [ ] Create GitHub Actions workflow
  - [ ] Configure build matrix (Windows, Linux, macOS)
  - [ ] Add test execution step
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 4 hours

- [ ] **Task 1.3**: Implement BlockCore.Core
  - [ ] Application class (window creation, main loop)
  - [ ] Time utilities
  - [ ] Input system (keyboard, mouse)
  - [ ] Logger setup (Serilog)
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 16 hours

- [ ] **Task 1.4**: Write core tests
  - [ ] Time tests (frame counting, delta time)
  - [ ] Input mocking and tests
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 8 hours

**Phase 1 Checkpoint**: Application launches empty window with black screen; FPS logged.

---

### 5.2 Phase 2: Mathematics & Camera (Week 2-3)

#### Tasks

- [ ] **Task 2.1**: Implement BlockCore.Mathematics
  - [ ] Camera class (position, rotation, matrices)
  - [ ] Matrix utilities (look-at, perspective)
  - [ ] Math helpers (clamp, lerp, etc.)
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 12 hours

- [ ] **Task 2.2**: Write mathematics tests
  - [ ] Camera matrix tests (known inputs ‚Üí expected matrices)
  - [ ] Utility function tests
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 6 hours

- [ ] **Task 2.3**: Implement CameraController
  - [ ] Mouse look (yaw/pitch)
  - [ ] WASD movement
  - [ ] Smooth interpolation
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 8 hours

**Phase 2 Checkpoint**: Camera can move in empty 3D space (no geometry yet).

---

### 5.3 Phase 3: Rendering Foundation (Week 3-5)

#### Tasks

- [ ] **Task 3.1**: Set up Silk.NET
  - [ ] Add NuGet packages (Silk.NET.Windowing, Silk.NET.Vulkan/OpenGL)
  - [ ] Choose graphics backend (Vulkan preferred, OpenGL fallback)
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 4 hours

- [ ] **Task 3.2**: Implement GraphicsDevice
  - [ ] Device initialization
  - [ ] Swapchain management
  - [ ] Command buffer recording
  - [ ] Clear screen functionality
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 20 hours

- [ ] **Task 3.3**: Implement Shader system
  - [ ] Shader compilation (GLSL ‚Üí SPIRV/HLSL)
  - [ ] Shader loading and binding
  - [ ] Uniform buffer management (camera matrices)
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 16 hours

- [ ] **Task 3.4**: Implement Mesh class
  - [ ] Vertex buffer creation and upload
  - [ ] Index buffer creation and upload
  - [ ] Mesh rendering (draw call)
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 12 hours

- [ ] **Task 3.5**: Test rendering with triangle
  - [ ] Create hardcoded triangle mesh
  - [ ] Render to screen with basic shader
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 4 hours

**Phase 3 Checkpoint**: Spinning colored triangle rendered with camera transform.

---

### 5.4 Phase 4: Voxel System (Week 5-8)

#### Tasks

- [ ] **Task 4.1**: Implement Block system
  - [ ] BlockType enum (Air, Stone, Dirt, Grass)
  - [ ] BlockId struct
  - [ ] Block color mapping
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 4 hours

- [ ] **Task 4.2**: Implement Chunk class
  - [ ] 16¬≥ block array storage
  - [ ] GetBlock/SetBlock methods
  - [ ] Bounds checking
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 6 hours

- [ ] **Task 4.3**: Implement greedy meshing
  - [ ] Exposed face detection
  - [ ] Face merging along both dimensions
  - [ ] Vertex generation (position, normal, color)
  - [ ] Index generation (quads ‚Üí triangles)
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 24 hours

- [ ] **Task 4.4**: Write voxel tests
  - [ ] Chunk get/set tests
  - [ ] Meshing tests (known chunk ‚Üí expected vertex count)
  - [ ] Edge case tests (empty chunk, full chunk)
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 12 hours

- [ ] **Task 4.5**: Optimize meshing
  - [ ] Use Span<T> for temporary buffers
  - [ ] Pool vertex/index lists
  - [ ] Profile and measure performance
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 8 hours

**Phase 4 Checkpoint**: Single 16¬≥ chunk rendered with correct geometry and colors.

---

### 5.5 Phase 5: Demo Application & Polish (Week 8-10)

#### Tasks

- [ ] **Task 5.1**: Implement demo scene
  - [ ] Create hardcoded chunk with varied blocks
  - [ ] Position camera outside chunk
  - [ ] Integrate camera controller
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 6 hours

- [ ] **Task 5.2**: Add debug overlay
  - [ ] FPS counter
  - [ ] Frame time (ms)
  - [ ] Camera position display
  - [ ] Simple text rendering (or use ImGui.NET)
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 12 hours

- [ ] **Task 5.3**: Configuration system
  - [ ] TOML parser (Tomlyn)
  - [ ] Config loading and validation
  - [ ] Apply config to window, camera
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 8 hours

- [ ] **Task 5.4**: Performance optimization
  - [ ] Profile with dotTrace or BenchmarkDotNet
  - [ ] Identify and fix hot paths
  - [ ] Validate 60 FPS target
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 12 hours

- [ ] **Task 5.5**: Cross-platform testing
  - [ ] Test on Windows
  - [ ] Test on Linux (via CI or local VM)
  - [ ] Test on macOS (via CI or borrowed hardware)
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 8 hours

- [ ] **Task 5.6**: Documentation
  - [ ] Document public APIs (XML comments)
  - [ ] Write getting-started guide
  - [ ] Update README with build instructions
  - üöß **Status**: Not started
  - ‚è±Ô∏è **Estimated**: 8 hours

**Phase 5 Checkpoint**: Polished demo application meeting all acceptance criteria.

---

### 5.6 Total Time Estimate

| Phase | Tasks | Estimated Hours |
|-------|-------|----------------|
| Phase 1: Core | 4 | 30h |
| Phase 2: Math & Camera | 3 | 26h |
| Phase 3: Rendering | 5 | 56h |
| Phase 4: Voxels | 5 | 54h |
| Phase 5: Demo & Polish | 6 | 54h |
| **Total** | **23** | **220h** |

**Estimated Duration**: 220 hours ‚âà 6-8 weeks (at 30-40h/week development time)

---

## 6. Acceptance Criteria

### 6.1 Functional Requirements

- [ ] **FR1**: Application launches without errors on Windows, Linux, and macOS
  - ‚úÖ **How to test**: Run executable on each platform
  - ‚úÖ **Expected**: Window opens with title "BlockCore v0.1"

- [ ] **FR2**: Single 16√ó16√ó16 chunk is rendered with visible geometry
  - ‚úÖ **How to test**: Visual inspection of rendered chunk
  - ‚úÖ **Expected**: Chunk displays cubes with different colors (stone, dirt, grass)

- [ ] **FR3**: Camera can move freely using WASD keys
  - ‚úÖ **How to test**: Press WASD keys and observe camera position change
  - ‚úÖ **Expected**: Smooth movement in corresponding directions

- [ ] **FR4**: Camera can look around using mouse
  - ‚úÖ **How to test**: Move mouse and observe view rotation
  - ‚úÖ **Expected**: Smooth rotation with clamped pitch (-89¬∞ to +89¬∞)

- [ ] **FR5**: FPS counter is displayed on screen
  - ‚úÖ **How to test**: Visual inspection of debug overlay
  - ‚úÖ **Expected**: FPS value updates every second

- [ ] **FR6**: Configuration is loaded from config.toml
  - ‚úÖ **How to test**: Modify config values and restart application
  - ‚úÖ **Expected**: Changes reflected in window size, camera speed, etc.

### 6.2 Performance Requirements

- [ ] **PR1**: Application maintains 60 FPS on mid-tier hardware
  - ‚úÖ **How to test**: Monitor FPS on GTX 1060 / RX 580 equivalent
  - ‚úÖ **Expected**: Average FPS ‚â• 60, P95 frame time ‚â§ 16.7ms

- [ ] **PR2**: Chunk meshing completes in under 5ms
  - ‚úÖ **How to test**: Add timer around ChunkMesher.GenerateMesh()
  - ‚úÖ **Expected**: P95 mesh time ‚â§ 5ms

- [ ] **PR3**: No memory leaks during 10-minute run
  - ‚úÖ **How to test**: Monitor memory usage over time
  - ‚úÖ **Expected**: Memory usage stable (¬±5% variance)

### 6.3 Quality Requirements

- [ ] **QR1**: All public APIs have XML documentation comments
  - ‚úÖ **How to test**: Check compiler warnings (CS1591)
  - ‚úÖ **Expected**: Zero missing documentation warnings

- [ ] **QR2**: Core unit tests pass with >70% code coverage
  - ‚úÖ **How to test**: Run `dotnet test` and check coverage report
  - ‚úÖ **Expected**: All tests green, coverage ‚â• 70%

- [ ] **QR3**: No compiler warnings in Release build
  - ‚úÖ **How to test**: Run `dotnet build -c Release`
  - ‚úÖ **Expected**: Zero warnings

- [ ] **QR4**: Application shuts down cleanly
  - ‚úÖ **How to test**: Close window and check for exceptions
  - ‚úÖ **Expected**: No errors logged, all resources disposed

### 6.4 Documentation Requirements

- [ ] **DR1**: README contains build instructions for all platforms
  - ‚úÖ **How to test**: Follow instructions on clean machine
  - ‚úÖ **Expected**: Successful build without external help

- [ ] **DR2**: v0.1.md (this file) is complete and accurate
  - ‚úÖ **How to test**: Review all sections
  - ‚úÖ **Expected**: All checklists filled, no placeholder text

- [ ] **DR3**: API documentation can be generated
  - ‚úÖ **How to test**: Run documentation generator (DocFX or similar)
  - ‚úÖ **Expected**: HTML docs generated without errors

---

## 7. Release Checklist

Before tagging v0.1.0:

- [ ] All implementation tasks marked `[x]` with completion timestamps
- [ ] All acceptance criteria verified and documented
- [ ] CI/CD pipeline passing on all platforms
- [ ] No known critical bugs
- [ ] README updated with screenshots
- [ ] CHANGELOG.md created with v0.1.0 notes
- [ ] Git tag created: `v0.1.0`
- [ ] GitHub release published with binaries

---

## 8. Known Issues & Future Work

### Known Limitations (v0.1)
- Single chunk only (no chunk management)
- No textures (solid colors only)
- No lighting (fake directional light in shader)
- No collision (camera can pass through blocks)
- Hardcoded block types

### Planned for v0.2
- Multi-chunk rendering
- Chunk loading/unloading by distance
- Basic skylight propagation
- Simple world generation

---

## 9. References

- [Overall Roadmap](overall.md)
- [Silk.NET Documentation](https://dotnet.github.io/Silk.NET/)
- [Vulkan Tutorial](https://vulkan-tutorial.com/)
- [Greedy Meshing Article](https://0fps.net/2012/06/30/meshing-in-a-minecraft-game/)

---

**Document Status**: üöß Living document - updated as implementation progresses  
**Last Updated**: 2025-10-18  
**Next Review**: After Phase 1 completion

